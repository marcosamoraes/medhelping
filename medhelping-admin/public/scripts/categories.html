<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <link
            href="http://fonts.googleapis.com/css?family=Lato:400,700"
            rel="stylesheet"
            type="text/css"
        />
        <link rel="stylesheet" href="./style.css" type="text/css" />
        <script
            src="https://code.jquery.com/jquery-3.6.1.min.js"
            integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
            crossorigin="anonymous"
        ></script>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
            integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
            crossorigin="anonymous"
        />
        <script src="./GBJSTK.js"></script>
        <script src="./requests.js"></script>

    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-12 px-0 pt-3">
                    <div class="form-group">
                        <input
                            type="search"
                            class="form-control"
                            placeholder="Pesquisar"
                        />
                    </div>
                </div>
                <div class="col-12">
                    <div
                        class="row articles-list"
                    ></div>
                </div>
            </div>
        </div>

        <script>
            function gbPluginDidLoad() {
                gbRequest(
                    "https://agenciamoraes.com/sites/medhelping/api/article/list/Clín%20Médica",
                    2
                );
            };

            $.expr[":"].contains = $.expr.createPseudo(function (arg) {
                return function (elem) {
                    return (
                        $(elem)
                            .text()
                            .toUpperCase()
                            .indexOf(arg.toUpperCase()) >= 0
                    );
                };
            });

            $('[type="search"]').keyup(function () {
                let value = $(this).val();
                const articles = $(
                    `.articles-list div h1:contains('${value}')`
                );
                $(".articles-list div").hide();
                $.each(articles, (i, article) => {
                    $(article).closest("div").show();
                });
            });
        </script>
    </body>
</html>
